<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–èª•æ–°é¢¨æ ¼ç›¸æ¡†ç”Ÿæˆå™¨</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #dc2626, #15b981);
            margin: 0;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #dc2626;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .controls {
            margin-bottom: 20px;
        }
        .style-selector {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .style-btn {
            padding: 10px 20px;
            border: 2px solid #dc2626;
            background: white;
            color: #dc2626;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .style-btn.active {
            background: #dc2626;
            color: white;
        }
        .style-btn:hover:not(.active) {
            background: #fef2f2;
        }
        .format-selector {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .format-btn {
            padding: 10px 15px;
            border: 2px solid #15b981;
            background: white;
            color: #15b981;
            cursor: pointer;
            border-radius: 6px;
            font-size: 14px;
        }
        .format-btn.active {
            background: #15b981;
            color: white;
        }
        canvas {
            border: 3px solid #dc2626;
            border-radius: 12px;
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .download-section {
            text-align: center;
            margin: 20px 0;
        }
        .download-btn {
            padding: 12px 24px;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            background: #b91c1c;
            transform: translateY(-2px);
        }
        .download-btn.secondary {
            background: #15b981;
        }
        .download-btn.secondary:hover {
            background: #10b981;
        }
        .info {
            background: #fef2f2;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc2626;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ„ è–èª•æ–°é¢¨æ ¼ç›¸æ¡†ç”Ÿæˆå™¨ âœ¨</h1>
        
        <div class="controls">
            <h3>é¸æ“‡é¢¨æ ¼ï¼š</h3>
            <div class="style-selector">
                <button class="style-btn active" data-style="polaroid">ğŸ“¸ æ‹ç«‹å¾—</button>
                <button class="style-btn" data-style="colorful-christmas">ğŸ¨ ç¹½ç´›è–èª•</button>
                <button class="style-btn" data-style="christmas-feast">ğŸ½ï¸ è–èª•å¤§é¤</button>
                <button class="style-btn" data-style="merry-christmas">ğŸ… è–èª•å¿«æ¨‚</button>
                <button class="style-btn" data-style="christmas-fairy-tale">ğŸ§š è–èª•ç«¥è©±</button>
            </div>
            
            <h3>é¸æ“‡æ ¼å¼ï¼š</h3>
            <div class="format-selector">
                <button class="format-btn active" data-format="square">æ­£æ–¹å½¢ (1080Ã—1080)</button>
                <button class="format-btn" data-format="portrait">ç›´å¼ (1080Ã—1350)</button>
                <button class="format-btn" data-format="story">é™æ™‚å‹•æ…‹ (1080Ã—1920)</button>
            </div>
        </div>
        
        <canvas id="frameCanvas"></canvas>
        
        <div class="download-section">
            <button class="download-btn" onclick="downloadCurrentFrame()">ğŸ“¥ ä¸‹è¼‰ç•¶å‰ç›¸æ¡†</button>
            <button class="download-btn secondary" onclick="downloadAllFormats()">ğŸ“¦ ä¸‹è¼‰æ‰€æœ‰æ ¼å¼</button>
        </div>
        
        <div class="info">
            <h4>ğŸ¨ æ–°è–èª•é¢¨æ ¼èªªæ˜ï¼š</h4>
            <ul>
                <li><strong>æ‹ç«‹å¾—</strong>: ç¶“å…¸ç™½é‚Šæ¡†æ‹ç«‹å¾—é¢¨æ ¼ï¼Œå¾©å¤è–èª•æ„Ÿ</li>
                <li><strong>ç¹½ç´›è–èª•</strong>: å¤šå½©è–èª•è£é£¾ï¼Œè±å¯Œè‰²å½©æ­é…</li>
                <li><strong>è–èª•å¤§é¤</strong>: æº«é¦¨èšé¤ä¸»é¡Œï¼Œé¤å…·èˆ‡ç¾é£Ÿå…ƒç´ </li>
                <li><strong>è–èª•å¿«æ¨‚</strong>: ç¥ç¦æ–‡å­—ç‚ºä¸»ï¼Œæº«æš–å­—é«”æ•ˆæœ</li>
                <li><strong>è–èª•ç«¥è©±</strong>: å¤¢å¹»ç«¥è©±é¢¨æ ¼ï¼Œé­”æ³•èˆ‡æ˜Ÿå…‰æ•ˆæœ</li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('frameCanvas');
        const ctx = canvas.getContext('2d');
        
        // æ ¼å¼é…ç½®
        const formats = {
            square: { width: 1080, height: 1080, name: 'æ­£æ–¹å½¢' },
            portrait: { width: 1080, height: 1350, name: 'ç›´å¼' },
            story: { width: 1080, height: 1920, name: 'é™æ™‚å‹•æ…‹' }
        };
        
        let currentFormat = 'square';
        let currentStyle = 'polaroid';
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            createFrame();
        });
        
        function setupEventListeners() {
            // é¢¨æ ¼é¸æ“‡å™¨
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.style-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentStyle = this.dataset.style;
                    createFrame();
                });
            });
            
            // æ ¼å¼é¸æ“‡å™¨
            document.querySelectorAll('.format-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.format-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentFormat = this.dataset.format;
                    createFrame();
                });
            });
        }
        
        function createFrame() {
            const config = formats[currentFormat];
            canvas.width = config.width;
            canvas.height = config.height;
            
            // æ¸…é™¤ç•«å¸ƒ
            ctx.clearRect(0, 0, config.width, config.height);
            
            // æ ¹æ“šé¢¨æ ¼ç¹ªè£½ç›¸æ¡†
            switch(currentStyle) {
                case 'polaroid':
                    drawPolaroidFrame(ctx, config);
                    break;
                case 'colorful-christmas':
                    drawColorfulChristmasFrame(ctx, config);
                    break;
                case 'christmas-feast':
                    drawChristmasFeastFrame(ctx, config);
                    break;
                case 'merry-christmas':
                    drawMerryChristmasFrame(ctx, config);
                    break;
                case 'christmas-fairy-tale':
                    drawChristmasFairyTaleFrame(ctx, config);
                    break;
            }
        }
        
        // 1. æ‹ç«‹å¾—é¢¨æ ¼
        function drawPolaroidFrame(ctx, config) {
            const borderWidth = 60;
            const bottomBorder = borderWidth * 1.5; // åº•éƒ¨åŠ å¯¬
            
            ctx.save();
            
            // ä¸»è¦ç™½é‚Šæ¡†
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, config.width, config.height);
            
            // å…§éƒ¨ç…§ç‰‡å€åŸŸï¼ˆé€æ˜ï¼‰
            ctx.clearRect(borderWidth, borderWidth, 
                         config.width - borderWidth * 2, 
                         config.height - borderWidth - bottomBorder);
            
            // é™°å½±æ•ˆæœ
            ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';
            ctx.shadowBlur = 10;
            ctx.shadowOffsetX = 5;
            ctx.shadowOffsetY = 5;
            
            // é‡ç¹ªå¤–æ¡†å‰µé€ ç«‹é«”æ„Ÿ
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, config.width, borderWidth); // ä¸Šé‚Šæ¡†
            ctx.fillRect(0, 0, borderWidth, config.height); // å·¦é‚Šæ¡†  
            ctx.fillRect(config.width - borderWidth, 0, borderWidth, config.height); // å³é‚Šæ¡†
            ctx.fillRect(0, config.height - bottomBorder, config.width, bottomBorder); // ä¸‹é‚Šæ¡†
            
            // åº•éƒ¨è–èª•æ–‡å­—
            ctx.shadowColor = 'transparent';
            ctx.fillStyle = '#dc2626';
            ctx.font = 'bold 32px "Comic Sans MS", cursive';
            ctx.textAlign = 'center';
            ctx.fillText('Merry Christmas!', config.width / 2, config.height - bottomBorder / 2);
            
            ctx.restore();
        }
        
        // 2. ç¹½ç´›è–èª•é¢¨æ ¼
        function drawColorfulChristmasFrame(ctx, config) {
            const borderWidth = 50;
            
            ctx.save();
            
            // å½©è™¹æ¼¸è®Šé‚Šæ¡†
            const gradient = ctx.createLinearGradient(0, 0, config.width, config.height);
            gradient.addColorStop(0, '#dc2626'); // ç´…è‰²
            gradient.addColorStop(0.2, '#f59e0b'); // æ©™è‰²
            gradient.addColorStop(0.4, '#eab308'); // é»ƒè‰²
            gradient.addColorStop(0.6, '#15b981'); // ç¶ è‰²
            gradient.addColorStop(0.8, '#3b82f6'); // è—è‰²
            gradient.addColorStop(1, '#8b5cf6'); // ç´«è‰²
            
            ctx.strokeStyle = gradient;
            ctx.lineWidth = borderWidth;
            ctx.strokeRect(borderWidth/2, borderWidth/2, 
                          config.width - borderWidth, config.height - borderWidth);
            
            // ç¹½ç´›è–èª•çƒè£é£¾
            const ballColors = ['#dc2626', '#15b981', '#f59e0b', '#8b5cf6', '#3b82f6'];
            const positions = [
                {x: borderWidth + 30, y: borderWidth + 30},
                {x: config.width - borderWidth - 30, y: borderWidth + 30},
                {x: borderWidth + 30, y: config.height - borderWidth - 30},
                {x: config.width - borderWidth - 30, y: config.height - borderWidth - 30}
            ];
            
            positions.forEach((pos, i) => {
                ctx.fillStyle = ballColors[i % ballColors.length];
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 20, 0, 2 * Math.PI);
                ctx.fill();
                
                // é«˜å…‰æ•ˆæœ
                ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                ctx.beginPath();
                ctx.arc(pos.x - 5, pos.y - 5, 8, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            ctx.restore();
        }
        
        // 3. è–èª•å¤§é¤é¢¨æ ¼
        function drawChristmasFeastFrame(ctx, config) {
            const borderWidth = 45;
            
            ctx.save();
            
            // æº«æš–æ£•è‰²é‚Šæ¡†
            const gradient = ctx.createLinearGradient(0, 0, 0, config.height);
            gradient.addColorStop(0, '#92400e'); // æ·±æ£•è‰²
            gradient.addColorStop(0.5, '#d97706'); // æ©™æ£•è‰²
            gradient.addColorStop(1, '#92400e'); // æ·±æ£•è‰²
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, config.width, borderWidth); // ä¸Š
            ctx.fillRect(0, 0, borderWidth, config.height); // å·¦
            ctx.fillRect(config.width - borderWidth, 0, borderWidth, config.height); // å³
            ctx.fillRect(0, config.height - borderWidth, config.width, borderWidth); // ä¸‹
            
            // é¤å…·è£é£¾åœ–æ¡ˆ
            drawFork(ctx, borderWidth + 40, borderWidth / 2);
            drawKnife(ctx, config.width - borderWidth - 40, borderWidth / 2);
            drawPlate(ctx, config.width / 2, borderWidth / 2);
            
            // åº•éƒ¨ç¾é£Ÿåœ–æ¡ˆ
            drawTurkey(ctx, config.width / 2 - 60, config.height - borderWidth / 2);
            drawWine(ctx, config.width / 2 + 60, config.height - borderWidth / 2);
            
            ctx.restore();
        }
        
        // 4. è–èª•å¿«æ¨‚é¢¨æ ¼
        function drawMerryChristmasFrame(ctx, config) {
            const borderWidth = 40;
            
            ctx.save();
            
            // ç°¡æ½”é‚Šæ¡†
            ctx.strokeStyle = '#dc2626';
            ctx.lineWidth = borderWidth;
            ctx.strokeRect(borderWidth/2, borderWidth/2, 
                          config.width - borderWidth, config.height - borderWidth);
            
            // å¤§å‹ç¥ç¦æ–‡å­—
            const text = 'Merry Christmas!';
            
            // æ–‡å­—é™°å½±
            ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';
            ctx.shadowBlur = 5;
            ctx.shadowOffsetX = 3;
            ctx.shadowOffsetY = 3;
            
            // æ¼¸è®Šæ–‡å­—æ•ˆæœ
            const textGradient = ctx.createLinearGradient(0, 0, config.width, 0);
            textGradient.addColorStop(0, '#dc2626');
            textGradient.addColorStop(0.5, '#f59e0b');
            textGradient.addColorStop(1, '#dc2626');
            
            ctx.fillStyle = textGradient;
            ctx.font = `bold ${Math.min(config.width / 12, 90)}px "Impact", sans-serif`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // é ‚éƒ¨æ–‡å­—
            ctx.fillText(text, config.width / 2, borderWidth + 50);
            
            // åº•éƒ¨æ–‡å­—
            ctx.fillText('ğŸ„ âœ¨ ğŸ…', config.width / 2, config.height - borderWidth - 30);
            
            ctx.restore();
        }
        
        // 5. è–èª•ç«¥è©±é¢¨æ ¼  
        function drawChristmasFairyTaleFrame(ctx, config) {
            const borderWidth = 50;
            
            ctx.save();
            
            // å¤¢å¹»æ¼¸è®Šé‚Šæ¡†
            const gradient = ctx.createRadialGradient(config.width/2, config.height/2, 0, 
                                                    config.width/2, config.height/2, config.width/2);
            gradient.addColorStop(0, 'transparent');
            gradient.addColorStop(0.7, 'rgba(139, 92, 246, 0.3)'); // æ·¡ç´«è‰²
            gradient.addColorStop(1, '#8b5cf6'); // ç´«è‰²
            
            ctx.strokeStyle = gradient;
            ctx.lineWidth = borderWidth;
            ctx.strokeRect(borderWidth/2, borderWidth/2, 
                          config.width - borderWidth, config.height - borderWidth);
            
            // é­”æ³•æ˜Ÿæ˜Ÿ
            const starPositions = [];
            for (let i = 0; i < 20; i++) {
                starPositions.push({
                    x: Math.random() * config.width,
                    y: Math.random() * config.height,
                    size: Math.random() * 15 + 5
                });
            }
            
            starPositions.forEach(star => {
                if ((star.x < borderWidth * 2 || star.x > config.width - borderWidth * 2) ||
                    (star.y < borderWidth * 2 || star.y > config.height - borderWidth * 2)) {
                    drawStar(ctx, star.x, star.y, star.size);
                }
            });
            
            // ç«¥è©±åŸå ¡å‰ªå½±ï¼ˆå››è§’ï¼‰
            drawCastle(ctx, borderWidth / 2, borderWidth / 2);
            drawCastle(ctx, config.width - borderWidth / 2, borderWidth / 2);
            drawCastle(ctx, borderWidth / 2, config.height - borderWidth / 2);
            drawCastle(ctx, config.width - borderWidth / 2, config.height - borderWidth / 2);
            
            ctx.restore();
        }
        
        // è¼”åŠ©ç¹ªè£½å‡½æ•¸
        function drawFork(ctx, x, y) {
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(x, y - 15);
            ctx.lineTo(x, y + 15);
            ctx.moveTo(x - 5, y - 15);
            ctx.lineTo(x - 5, y - 5);
            ctx.moveTo(x + 5, y - 15);
            ctx.lineTo(x + 5, y - 5);
            ctx.stroke();
        }
        
        function drawKnife(ctx, x, y) {
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(x, y - 15);
            ctx.lineTo(x, y + 15);
            ctx.moveTo(x - 3, y - 15);
            ctx.lineTo(x + 3, y - 10);
            ctx.stroke();
        }
        
        function drawPlate(ctx, x, y) {
            ctx.strokeStyle = '#6b7280';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(x, y, 15, 0, 2 * Math.PI);
            ctx.stroke();
        }
        
        function drawTurkey(ctx, x, y) {
            ctx.fillStyle = '#92400e';
            ctx.beginPath();
            ctx.arc(x, y, 12, 0, 2 * Math.PI);
            ctx.fill();
            // ç°¡åŒ–ç«é›å½¢ç‹€
        }
        
        function drawWine(ctx, x, y) {
            ctx.strokeStyle = '#7c3aed';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(x, y - 5, 8, 0, Math.PI, true);
            ctx.moveTo(x - 8, y - 5);
            ctx.lineTo(x - 8, y + 10);
            ctx.lineTo(x + 8, y + 10);
            ctx.lineTo(x + 8, y - 5);
            ctx.stroke();
        }
        
        function drawStar(ctx, x, y, size) {
            ctx.fillStyle = '#fbbf24';
            ctx.beginPath();
            ctx.moveTo(x, y - size);
            ctx.lineTo(x + size * 0.3, y - size * 0.3);
            ctx.lineTo(x + size, y);
            ctx.lineTo(x + size * 0.3, y + size * 0.3);
            ctx.lineTo(x, y + size);
            ctx.lineTo(x - size * 0.3, y + size * 0.3);
            ctx.lineTo(x - size, y);
            ctx.lineTo(x - size * 0.3, y - size * 0.3);
            ctx.closePath();
            ctx.fill();
            
            // å…‰æšˆæ•ˆæœ
            ctx.shadowColor = '#fbbf24';
            ctx.shadowBlur = 10;
            ctx.fill();
            ctx.shadowColor = 'transparent';
        }
        
        function drawCastle(ctx, x, y) {
            ctx.fillStyle = '#374151';
            ctx.fillRect(x - 10, y - 8, 20, 16);
            // åŸå ¡å°–å¡”
            ctx.beginPath();
            ctx.moveTo(x, y - 15);
            ctx.lineTo(x - 8, y - 8);
            ctx.lineTo(x + 8, y - 8);
            ctx.closePath();
            ctx.fill();
        }
        
        // ä¸‹è¼‰åŠŸèƒ½
        function downloadCurrentFrame() {
            const config = formats[currentFormat];
            const filename = `frame_${currentFormat}_${currentStyle}_${config.width}x${config.height}.png`;
            
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 'image/png');
        }
        
        function downloadAllFormats() {
            const originalFormat = currentFormat;
            const formatKeys = Object.keys(formats);
            let downloadCount = 0;
            
            function downloadNext() {
                if (downloadCount < formatKeys.length) {
                    const format = formatKeys[downloadCount];
                    currentFormat = format;
                    createFrame();
                    
                    setTimeout(() => {
                        const config = formats[format];
                        const filename = `frame_${format}_${currentStyle}_${config.width}x${config.height}.png`;
                        
                        canvas.toBlob(function(blob) {
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = filename;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                            
                            downloadCount++;
                            downloadNext();
                        }, 'image/png');
                    }, 100);
                } else {
                    currentFormat = originalFormat;
                    createFrame();
                }
            }
            
            downloadNext();
        }
    </script>
</body>
</html>